(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{725:function(e,s,a){Promise.resolve().then(a.bind(a,5400))},5400:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return y}});var t=a(7437),l=a(2265),i=a(2173),r=e=>{let{children:s}=e;return(0,t.jsx)("div",{className:"card",children:s})},n=a(105),c=a(6704);a(7409),c.kL.register(c.Dx,c.u,c.De,c.jn,c.od,c.f$,c.uw,c.FB);var d=e=>{let{responseData:s}=e,[a,i]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(s&&s.sales){let e=s.sales.map(e=>e.price),a=s.sales.map(e=>e.date);i({labels:a,datasets:[{label:"Sale Price",data:e,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]})}},[s]),(0,t.jsx)("div",{className:"chart-container",children:a?(0,t.jsx)(n.x1,{data:a,options:{scales:{x:{type:"time",time:{unit:"day"},title:{display:!0,text:"Date"}},y:{beginAtZero:!0,title:{display:!0,text:"Price (ETH)"}}},plugins:{legend:{display:!0}},responsive:!0,maintainAspectRatio:!1}}):(0,t.jsx)("p",{children:"Loading chart..."})})};c.kL.register(c.Dx,c.u,c.De,c.f$,c.od,c.FB);var o=e=>{let{responseData:s}=e,[a,i]=(0,l.useState)(null),[r,c]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{if(s&&Array.isArray(s.outliers)){let e=s.outliers,a=e.map(e=>({x:new Date(e.date),y:e.price}));i({datasets:[{label:"Outlier Prices",data:a,backgroundColor:"rgb(255, 99, 132)"}]}),c(!1)}},[s]),(0,t.jsx)("div",{className:"chart-container",children:r?(0,t.jsx)("p",{children:"Loading chart..."}):(0,t.jsx)(n.bp,{data:a,options:{scales:{x:{type:"time",time:{unit:"day"},title:{display:!0,text:"Date"}},y:{beginAtZero:!1,title:{display:!0,text:"Price (ETH)"}}},plugins:{legend:{display:!0}},responsive:!0,maintainAspectRatio:!1}})})};c.kL.register(c.Dx,c.u,c.De,c.f$,c.uw,c.FB,c.ZL);var u=e=>{let{responseData:s}=e,[a,i]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(s&&s.pricePerWeekday){let e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=e.map((e,a)=>s.pricePerWeekday[a.toString()]||0);i({labels:e,datasets:[{label:"Average Price (ETH)",data:a,backgroundColor:"rgb(54, 162, 235)",borderWidth:1}]})}},[s]),(0,t.jsx)("div",{className:"chart-container",children:a?(0,t.jsx)(n.$Q,{data:a,options:{scales:{x:{title:{display:!0,text:"Day of the Week"}},y:{beginAtZero:!0,title:{display:!0,text:"Price (ETH)"}}},plugins:{legend:{display:!0}},responsive:!0,maintainAspectRatio:!1}}):(0,t.jsx)("p",{children:"Loading chart..."})})};c.kL.register(c.Dx,c.u,c.De,c.f$,c.uw,c.ZL);var x=e=>{let{responseData:s}=e,[a,i]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(s){let e=Object.keys(s.pricePerHour),a=Object.values(s.pricePerHour);i({labels:e,datasets:[{label:"Price per Hour (ETH)",data:a,backgroundColor:"rgb(54, 162, 235)",borderWidth:1}]})}},[s]),(0,t.jsx)("div",{className:"chart-container",children:a?(0,t.jsx)(n.$Q,{data:a,options:{scales:{x:{title:{display:!0,text:"Hour of the Day"}},y:{beginAtZero:!0,title:{display:!0,text:"Price (ETH)"}}},plugins:{legend:{display:!0}},responsive:!0,maintainAspectRatio:!1}}):(0,t.jsx)("p",{children:"Loading chart..."})})};c.kL.register(c.Dx,c.u,c.De,c.f$,c.uw,c.ZL);var p=e=>{let{priceAnalysis:s}=e;return(0,t.jsxs)("div",{className:"price-analysis-module",children:[(0,t.jsx)("h3",{children:"Price Analysis"}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Sum: "}),(0,t.jsxs)("span",{className:"value",children:[s.sum.toFixed(2)," ETH"]})]}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Count: "}),(0,t.jsx)("span",{className:"value",children:s.count})]}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Average: "}),(0,t.jsxs)("span",{className:"value",children:[s.average.toFixed(2)," ETH"]})]}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Minimum: "}),(0,t.jsxs)("span",{className:"value",children:[s.min.toFixed(2)," ETH"]})]}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Maximum: "}),(0,t.jsxs)("span",{className:"value",children:[s.max.toFixed(2)," ETH"]})]}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Median: "}),(0,t.jsxs)("span",{className:"value",children:[s.median.toFixed(2)," ETH"]})]})]})};c.kL.register(c.Dx,c.u,c.De,c.f$,c.uw,c.ZL);var h=e=>{let{priceAnalysis:s}=e;return(0,t.jsxs)("div",{className:"price-analysis-module",children:[(0,t.jsx)("h3",{children:"Week vs Weekday Analysis"}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Weekday: "}),(0,t.jsx)("span",{className:"value",children:s.weekday?"".concat(s.weekday," ETH"):"N/A"})]}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Weekend: "}),(0,t.jsx)("span",{className:"value",children:s.weekend?"".concat(s.weekend," ETH"):"N/A"})]})]})};c.kL.register(c.Dx,c.u,c.De,c.f$,c.uw,c.ZL);var m=e=>{let{priceAnalysis:s}=e;return(0,t.jsxs)("div",{className:"price-analysis-module",children:[(0,t.jsx)("h3",{children:"Frequent Price Range"}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Max: "}),(0,t.jsx)("span",{className:"value",children:s.max?"".concat(s.max," ETH"):"N/A"})]}),(0,t.jsxs)("div",{className:"stat",children:[(0,t.jsx)("span",{className:"label",children:"Min: "}),(0,t.jsx)("span",{className:"value",children:s.min?"".concat(s.min," ETH"):"N/A"})]})]})};c.kL.register(c.Dx,c.u,c.De,c.f$,c.uw,c.ZL);var j=e=>{let{responseData:s}=e,[a,i]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(s&&s.hotTimes&&s.hotTimes.hotTimes&&s.hotTimes.hotTimes.hottestHours){let e=s.hotTimes.hotTimes.hottestHours.map(e=>"Hour ".concat(e.hour)),a=s.hotTimes.hotTimes.hottestHours.map(e=>e.sales);i({labels:e,datasets:[{label:"Sales per Hour",data:a,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]})}},[s]),(0,t.jsx)("div",{className:"chart-container",children:a?(0,t.jsx)(n.$Q,{data:a,options:{scales:{x:{title:{display:!0,text:"Hour of the Day"}},y:{beginAtZero:!0,title:{display:!0,text:"Number of Sales"}}},plugins:{legend:{display:!0}},responsive:!0,maintainAspectRatio:!1}}):(0,t.jsx)("p",{children:"Loading chart..."})})};function y(){let[e,s]=(0,l.useState)(null),[a,n]=(0,l.useState)("0x5946aeaab44e65eb370ffaa6a7ef2218cff9b47d"),[c,y]=(0,l.useState)(3),v=(0,l.useCallback)(e=>{n(e.target.value)},[]),b=(0,l.useCallback)(e=>{y(Number(e.target.value))},[]),g=(0,l.useCallback)(async()=>{try{let e=await i.Z.post("http://localhost:3000/collection",{collectionAddress:a,timeSpan:c}),t=e.data;t?(s(t),console.log(t)):console.error("Invalid response format:",t)}catch(e){console.error("Error fetching data:",e)}},[a,c]);return(0,l.useEffect)(()=>{g()},[g]),(0,t.jsx)("div",{children:(0,t.jsxs)("main",{className:"main-content p-4",style:{backgroundColor:"#f0f0f0"},children:[(0,t.jsx)("div",{className:"input-section",style:{marginBottom:"20px"},children:(0,t.jsxs)(r,{children:[(0,t.jsx)("label",{htmlFor:"contractAddress",children:"Contract Address:"}),(0,t.jsx)("input",{type:"text",value:a,onChange:v,placeholder:"Enter Contract Address"}),(0,t.jsx)("label",{htmlFor:"timespan",children:"Timespan:"}),(0,t.jsx)("input",{type:"number",value:c,onChange:b,placeholder:"Enter Time Span"})]})}),(0,t.jsx)("div",{className:"modules-section",style:{display:"flex",flexWrap:"wrap",gap:"20px",justifyContent:"center"},children:e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r,{children:(0,t.jsx)(p,{priceAnalysis:e.priceAnalysis})}),(0,t.jsx)(r,{children:(0,t.jsx)(h,{priceAnalysis:e.weekVsWeekend})}),(0,t.jsx)(r,{children:(0,t.jsx)(m,{priceAnalysis:e.frequentPriceRange})})]})}),(0,t.jsxs)("div",{className:"charts-section",style:{marginTop:"20px"},children:[(0,t.jsx)(r,{children:(0,t.jsx)(d,{responseData:e})}),(0,t.jsx)(r,{children:(0,t.jsx)(o,{responseData:e})}),(0,t.jsx)(r,{children:(0,t.jsx)(u,{responseData:e})}),(0,t.jsx)(r,{children:(0,t.jsx)(x,{responseData:e})}),(0,t.jsx)(r,{children:(0,t.jsx)(j,{responseData:e})})]})]})})}}},function(e){e.O(0,[674,45,971,472,744],function(){return e(e.s=725)}),_N_E=e.O()}]);